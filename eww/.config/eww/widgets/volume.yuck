

(defpoll volume_percent
	:initial 0
	:interval "5s"
	"vol -n"
)
(defpoll volume_muted
	:interval "2h"
	"pactl get-sink-mute @DEFAULT_SINK@ | grep 'yes' > /dev/null && echo true || echo false"
)
(defwidget volume []
	(scale
		:class "volume ${ volume_muted == "true" ? "muted" : "" }"
		:value volume_percent
		:orientation "h"
		:tooltip "Vol: ${ volume_muted == "true" ? "Muted" : "${volume_percent}%" }"
		:min 0
		:max 100
		:onchange "vol {} -n"
	)
)
